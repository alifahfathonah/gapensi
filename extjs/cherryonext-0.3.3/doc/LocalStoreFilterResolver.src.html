<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.linenumber {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='linenumber'>  1</span> <span class="COMM">// $Id: LocalStoreFilterResolver.js 100 2008-02-26 09:38:02Z bobbicat71 $</span><span class="WHIT">
<span class='linenumber'>  2</span> 
<span class='linenumber'>  3</span> </span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">'Ex.ux.netbox.core'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>  4</span> 
<span class='linenumber'>  5</span> </span><span class="COMM">/** Build a new LocalStoreFilterResolver.
<span class='linenumber'>  6</span>   * @param {Ext.ux.netbox.core.FilterModel} filterModel The filterModel whose filter must be applied to the store
<span class='linenumber'>  7</span>   * @param {Object} mapping A mapping to use instead of the default one.
<span class='linenumber'>  8</span>   * @class This is the class that does the actual filtering with a DataStore that has local data. For each available operator (identified by id) it defines
<span class='linenumber'>  9</span>   * a function that returns if a record matches an elementary filter or not. These functions have as input parameters:
<span class='linenumber'> 10</span>   * &lt;ol>
<span class='linenumber'> 11</span>   *   &lt;li> &lt;b>record&lt;/b>: Ext.data.Record &lt;em> The record of the store that the function should check&lt;/em>&lt;/li>
<span class='linenumber'> 12</span>   *   &lt;li> &lt;b>value&lt;/b>: Mixed &lt;em> The value of the elementary filter that the function should evaluate&lt;/em>&lt;/li>
<span class='linenumber'> 13</span>   *   &lt;li> &lt;b>column&lt;/b>: String &lt;em> The field id of the elementary filter that the function should evaluate&lt;/em>&lt;/li>
<span class='linenumber'> 14</span>   * &lt;/ol>
<span class='linenumber'> 15</span>   * For example if I have a filter &lt;PRE>{id:"Ciccio", operator: "STRING_EQUAL", values:[{label: "bombo",value:"bombo"}]},&lt;/PRE> the function corresponding with
<span class='linenumber'> 16</span>   * STRING_EQUAL in the mapping will be called for each record in the store, with [{label: "bombo",value:"bombo"}] as value and "Ciccio" as column.&lt;br>
<span class='linenumber'> 17</span>   * This is, for example, the default mapping:
<span class='linenumber'> 18</span>   * &lt;PRE>
<span class='linenumber'> 19</span>   * this.mapping={NUMBER_EQUAL: {fn: this.filterNumberEqual, scope: this},
<span class='linenumber'> 20</span>   *   NUMBER_NOT_EQUAL: {fn: this.filterNumberDifferent, scope: this},
<span class='linenumber'> 21</span>   *   NUMBER_GREATER: {fn: this.filterNumberGreater, scope: this},
<span class='linenumber'> 22</span>   *   NUMBER_GREATER_OR_EQUAL: {fn: this.filterNumberGreaterOrEqual, scope: this},
<span class='linenumber'> 23</span>   *   NUMBER_LESS: {fn: this.filterNumberLess, scope: this},
<span class='linenumber'> 24</span>   *   NUMBER_LESS_OR_EQUAL: {fn: this.filterNumberLessOrEqual, scope: this},
<span class='linenumber'> 25</span>   *   NUMBER_RANGE: {fn: this.filterNumberRange, scope: this},
<span class='linenumber'> 26</span>   *   STRING_EQUAL: {fn: this.filterStringEquals, scope: this},
<span class='linenumber'> 27</span>   *   STRING_DIFFERENT: {fn: this.filterStringDifferent, scope: this},
<span class='linenumber'> 28</span>   *   STRING_CONTAINS: {fn: this.filterStringContains, scope: this},
<span class='linenumber'> 29</span>   *   STRING_DOESNT_CONTAIN: {fn: this.filterStringDoesntContains, scope: this},
<span class='linenumber'> 30</span>   *   STRING_STARTS_WITH: {fn: this.filterStringStartsWith, scope: this},
<span class='linenumber'> 31</span>   *   STRING_ENDS_WITH: {fn: this.filterStringEndsWith, scope: this},
<span class='linenumber'> 32</span>   *   STRING_LIST: {fn: this.filterList, scope: this},
<span class='linenumber'> 33</span>   *   STRING_NOT_IN_LIST: {fn: this.filterNotInList, scope: this}};
<span class='linenumber'> 34</span>   * &lt;/PRE>
<span class='linenumber'> 35</span>   * If, in the mapping, the scope field is null, the default scope (window) is used
<span class='linenumber'> 36</span>   * To use this class you should instantiate the class,
<span class='linenumber'> 37</span>   * and then use the filter method of the class as argument of the filterBy method of the store&lt;br>
<span class='linenumber'> 38</span>   * &lt;h4> Example&lt;/h4>
<span class='linenumber'> 39</span>   * If you have a grid, with a Store with local data, to filter the grid you simply call the apply function
<span class='linenumber'> 40</span>   * &lt;PRE>
<span class='linenumber'> 41</span>   * var localFilterResolver=new Ext.ux.netbox.core.LocalStoreFilterResolver(filterModel);
<span class='linenumber'> 42</span>   * function filterGrid(){
<span class='linenumber'> 43</span>   *   localFilterResolver.apply(store);
<span class='linenumber'> 44</span>   * }
<span class='linenumber'> 45</span>   * &lt;/PRE>
<span class='linenumber'> 46</span>   * @constructor
<span class='linenumber'> 47</span>   */</span><span class="WHIT">
<span class='linenumber'> 48</span> </span><span class="NAME">Ext.ux.netbox.core.LocalStoreFilterResolver</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">filterModel</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mapping</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 49</span>   </span><span class="COMM">/** This is the mapping used to verify if a value matches a single condition
<span class='linenumber'> 50</span>     * @property {Object} mapping
<span class='linenumber'> 51</span>     * @private
<span class='linenumber'> 52</span>     */</span><span class="WHIT">
<span class='linenumber'> 53</span>   </span><span class="NAME">this.mapping</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 54</span>   </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">mapping</span><span class="PUNC">==</span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 55</span>     </span><span class="NAME">this.mapping</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 56</span>       </span><span class="NAME">NUMBER_EQUAL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNumberEqual</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 57</span>       </span><span class="NAME">NUMBER_NOT_EQUAL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNumberDifferent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 58</span>       </span><span class="NAME">NUMBER_GREATER</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNumberGreater</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 59</span>       </span><span class="NAME">NUMBER_GREATER_OR_EQUAL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNumberGreaterOrEqual</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 60</span>       </span><span class="NAME">NUMBER_LESS</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNumberLess</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 61</span>       </span><span class="NAME">NUMBER_LESS_OR_EQUAL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNumberLessOrEqual</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 62</span>       </span><span class="NAME">NUMBER_RANGE</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNumberRange</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 63</span>       </span><span class="NAME">STRING_EQUAL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterStringEquals</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 64</span>       </span><span class="NAME">STRING_DIFFERENT</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterStringDifferent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 65</span>       </span><span class="NAME">STRING_CONTAINS</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterStringContains</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 66</span>       </span><span class="NAME">STRING_DOESNT_CONTAIN</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterStringDoesntContains</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 67</span>       </span><span class="NAME">STRING_STARTS_WITH</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterStringStartsWith</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 68</span>       </span><span class="NAME">STRING_ENDS_WITH</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterStringEndsWith</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 69</span>       </span><span class="NAME">STRING_LIST</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterList</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 70</span>       </span><span class="NAME">STRING_NOT_IN_LIST</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterNotInList</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 71</span>       </span><span class="NAME">DATE_EQUAL</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterDateEqual</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 72</span>       </span><span class="NAME">DATE_GREATER</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterDateGreater</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 73</span>       </span><span class="NAME">DATE_GREATER_OR_EQUAL</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterDateGreaterOrEqual</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 74</span>       </span><span class="NAME">DATE_LESS</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterDateLess</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 75</span>       </span><span class="NAME">DATE_LESS_OR_EQUAL</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterDateLessOrEqual</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 76</span>       </span><span class="NAME">DATE_RANGE</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterDateRange</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 77</span>       </span><span class="NAME">DATE_PERIOD</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">fn</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.filterDatePeriod</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 78</span>     </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 79</span>   </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 80</span>   </span><span class="COMM">/** This is the filterModel whose filters will be used to filter the store
<span class='linenumber'> 81</span>     * @property {Ext.ux.netbox.core.FilterModel} filterModel
<span class='linenumber'> 82</span>     * @private
<span class='linenumber'> 83</span>     */</span><span class="WHIT">
<span class='linenumber'> 84</span>   </span><span class="NAME">this.filterModel</span><span class="PUNC">=</span><span class="NAME">filterModel</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 85</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 86</span> 
<span class='linenumber'> 87</span> </span><span class="NAME">Ext.ux.netbox.core.LocalStoreFilterResolver.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 88</span> 
<span class='linenumber'> 89</span>   </span><span class="COMM">/** This is used to escape the characters that have a special meaning in a regular expression pattern
<span class='linenumber'> 90</span>     * For example the '[','+' etc...
<span class='linenumber'> 91</span>     * @param {String} s The string to escape,
<span class='linenumber'> 92</span>     * @private
<span class='linenumber'> 93</span>     */</span><span class="WHIT">
<span class='linenumber'> 94</span>   </span><span class="NAME">escapeRegExp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">s</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 95</span>     </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">s.replace</span><span class="PUNC">(</span><span class="REGX">/([.*+?^${}()|[\]\/\\])/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'\\$1'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 96</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 97</span>   </span><span class="COMM">/** This is used to return a standard value from the array of values with format {value: , label: }
<span class='linenumber'> 98</span>     * @param {Object} value The value of the filter.
<span class='linenumber'> 99</span>     * @return {String} A string value to use to match the filter
<span class='linenumber'>100</span>     * @private
<span class='linenumber'>101</span>     */</span><span class="WHIT">
<span class='linenumber'>102</span>   </span><span class="NAME">calcolateValue</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>103</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">value.length</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>104</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="STRN">""</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>105</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>106</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>107</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>108</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>109</span>   </span><span class="COMM">/** This is used to return a standard number value from the array of values with format {value: , label: }
<span class='linenumber'>110</span>     * @param {Object} value The value of the filter.
<span class='linenumber'>111</span>     * @return {Number} A number value to use to match the filter
<span class='linenumber'>112</span>     * @throws {String} When it's unable to parse the given value to a number
<span class='linenumber'>113</span>     * @private
<span class='linenumber'>114</span>     */</span><span class="WHIT">
<span class='linenumber'>115</span>   </span><span class="NAME">calcolateValueNumber</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>116</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">value.length</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>117</span>       </span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"Not a number"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>118</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>119</span>       </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>120</span>       </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">isNaN</span><span class="PUNC">(</span><span class="NAME">val</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>121</span>         </span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"Not a number"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>122</span>       </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>123</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">val</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>124</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>125</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>126</span>   </span><span class="COMM">/** This is used to return a standard date value from the array of values with format {value: , label: }
<span class='linenumber'>127</span>     * @param {Object} value The value of the filter.
<span class='linenumber'>128</span>     * @return {Date} A date value to use to match the filter
<span class='linenumber'>129</span>     * @throws {String} When it's unable to parse the given value to a Date
<span class='linenumber'>130</span>     * @private
<span class='linenumber'>131</span>     */</span><span class="WHIT">
<span class='linenumber'>132</span>   </span><span class="NAME">calcolateValueDate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>133</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">value.length</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>134</span>       </span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"Not a date"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>135</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>136</span>       </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">date</span><span class="PUNC">=</span><span class="NAME">Date.parseDate</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">,</span><span class="STRN">'Y-m-d H:i:s'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>137</span>       </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">date</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>138</span>         </span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"Not a date"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>139</span>       </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>140</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">date</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>141</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>142</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>143</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_EQUAL filter match.
<span class='linenumber'>144</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>145</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>146</span>     * @param {String} column The column of the record to match
<span class='linenumber'>147</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>148</span>     */</span><span class="WHIT">
<span class='linenumber'>149</span>   </span><span class="NAME">filterStringEquals</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>150</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">===</span><span class="NAME">this.calcolateValue</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>151</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>152</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_DIFFERENT filter match.
<span class='linenumber'>153</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>154</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>155</span>     * @param {String} column The column of the record to match
<span class='linenumber'>156</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>157</span>     */</span><span class="WHIT">
<span class='linenumber'>158</span>   </span><span class="NAME">filterStringDifferent</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>159</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterStringEquals</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>160</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>161</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_LIST filter match.
<span class='linenumber'>162</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>163</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>164</span>     * @param {String} column The column of the record to match
<span class='linenumber'>165</span>     * @return {boolean} true if it matches, false otherwise. If value is an empty array it doesn't match
<span class='linenumber'>166</span>     */</span><span class="WHIT">
<span class='linenumber'>167</span>   </span><span class="NAME">filterList</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>168</span>     </span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">&lt;</span><span class="NAME">value.length</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>169</span>       </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.filterStringEquals</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>170</span>         </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>171</span>       </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>172</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>173</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>174</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>175</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_LIST filter match.
<span class='linenumber'>176</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>177</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>178</span>     * @param {String} column The column of the record to match
<span class='linenumber'>179</span>     * @return {boolean} true if it matches, false otherwise. If value is an empty array it matches all the records
<span class='linenumber'>180</span>     */</span><span class="WHIT">
<span class='linenumber'>181</span>   </span><span class="NAME">filterNotInList</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>182</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterList</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>183</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>184</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_STARTS_WITH filter match.
<span class='linenumber'>185</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>186</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>187</span>     * @param {String} column The column of the record to match
<span class='linenumber'>188</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>189</span>     */</span><span class="WHIT">
<span class='linenumber'>190</span>   </span><span class="NAME">filterStringStartsWith</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>191</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.escapeRegExp</span><span class="PUNC">(</span><span class="NAME">this.calcolateValue</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>192</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">pattern</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">RegExp</span><span class="PUNC">(</span><span class="STRN">'^'</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">,</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>193</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">match</span><span class="PUNC">(</span><span class="NAME">pattern</span><span class="PUNC">)</span><span class="PUNC">!==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>194</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>195</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_ENDS_WITH filter match.
<span class='linenumber'>196</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>197</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>198</span>     * @param {String} column The column of the record to match
<span class='linenumber'>199</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>200</span>     */</span><span class="WHIT">
<span class='linenumber'>201</span>   </span><span class="NAME">filterStringEndsWith</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>202</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.escapeRegExp</span><span class="PUNC">(</span><span class="NAME">this.calcolateValue</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>203</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">pattern</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">RegExp</span><span class="PUNC">(</span><span class="NAME">val</span><span class="PUNC">+</span><span class="STRN">'$'</span><span class="PUNC">,</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>204</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">match</span><span class="PUNC">(</span><span class="NAME">pattern</span><span class="PUNC">)</span><span class="PUNC">!==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>205</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>206</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_CONTAINS filter match.
<span class='linenumber'>207</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>208</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>209</span>     * @param {String} column The column of the record to match
<span class='linenumber'>210</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>211</span>     */</span><span class="WHIT">
<span class='linenumber'>212</span>   </span><span class="NAME">filterStringContains</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>213</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.escapeRegExp</span><span class="PUNC">(</span><span class="NAME">this.calcolateValue</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>214</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">pattern</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">RegExp</span><span class="PUNC">(</span><span class="STRN">'.*'</span><span class="PUNC">+</span><span class="NAME">val</span><span class="PUNC">+</span><span class="STRN">'.*'</span><span class="PUNC">,</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>215</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">match</span><span class="PUNC">(</span><span class="NAME">pattern</span><span class="PUNC">)</span><span class="PUNC">!==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>216</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>217</span>   </span><span class="COMM">/** This is the standard implementation of the STRING_DOESNT_CONTAIN filter match.
<span class='linenumber'>218</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>219</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>220</span>     * @param {String} column The column of the record to match
<span class='linenumber'>221</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>222</span>     */</span><span class="WHIT">
<span class='linenumber'>223</span>   </span><span class="NAME">filterStringDoesntContains</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>224</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterStringContains</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>225</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>226</span>   </span><span class="COMM">/** This is the standard implementation of the NUMBER_EQUAL filter match.
<span class='linenumber'>227</span>     * When it's unable to parse the given value as a number or when the input is an empty array it returns false.
<span class='linenumber'>228</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>229</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>230</span>     * @param {String} column The column of the record to match
<span class='linenumber'>231</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>232</span>     */</span><span class="WHIT">
<span class='linenumber'>233</span>   </span><span class="NAME">filterNumberEqual</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>234</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>235</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>236</span>       </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueNumber</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>237</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>238</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>239</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>240</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">===</span><span class="NAME">val</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>241</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>242</span>   </span><span class="COMM">/** This is the standard implementation of the NUMBER_NOT_EQUAL filter match.
<span class='linenumber'>243</span>     * When it's unable to parse the given value as a number or when the input is an empty array it returns true.
<span class='linenumber'>244</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>245</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>246</span>     * @param {String} column The column of the record to match
<span class='linenumber'>247</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>248</span>     */</span><span class="WHIT">
<span class='linenumber'>249</span>   </span><span class="NAME">filterNumberDifferent</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>250</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterNumberEqual</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>251</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>252</span>   </span><span class="COMM">/** This is the standard implementation of the NUMBER_GREATER filter match.
<span class='linenumber'>253</span>     * When it's unable to parse the given value as a number or when the input is an empty array it returns false.
<span class='linenumber'>254</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>255</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>256</span>     * @param {String} column The column of the record to match
<span class='linenumber'>257</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>258</span>     */</span><span class="WHIT">
<span class='linenumber'>259</span>   </span><span class="NAME">filterNumberGreater</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>260</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>261</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>262</span>       </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueNumber</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>263</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>264</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>265</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>266</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NAME">val</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>267</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>268</span>   </span><span class="COMM">/** This is the standard implementation of the NUMBER_LESS_OR_EQUAL filter match.
<span class='linenumber'>269</span>     * When it's unable to parse the given value as a number or when the input is an empty array it returns false.
<span class='linenumber'>270</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>271</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>272</span>     * @param {String} column The column of the record to match
<span class='linenumber'>273</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>274</span>     */</span><span class="WHIT">
<span class='linenumber'>275</span>   </span><span class="NAME">filterNumberLessOrEqual</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>276</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>277</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>278</span>       </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueNumber</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>279</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>280</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>281</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>282</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterNumberGreater</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>283</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>284</span>   </span><span class="COMM">/** This is the standard implementation of the NUMBER_LESS filter match.
<span class='linenumber'>285</span>     * When it's unable to parse the given value as a number or when the input is an empty array it returns false.
<span class='linenumber'>286</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>287</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>288</span>     * @param {String} column The column of the record to match
<span class='linenumber'>289</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>290</span>     */</span><span class="WHIT">
<span class='linenumber'>291</span>   </span><span class="NAME">filterNumberLess</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>292</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>293</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>294</span>       </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueNumber</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>295</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>296</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>297</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>298</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>299</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>300</span>   </span><span class="COMM">/** This is the standard implementation of the NUMBER_GREATER_OR_EQUAL filter match.
<span class='linenumber'>301</span>     * When it's unable to parse the given value as a number or when the input is an empty array it returns false.
<span class='linenumber'>302</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>303</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>304</span>     * @param {String} column The column of the record to match
<span class='linenumber'>305</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>306</span>     */</span><span class="WHIT">
<span class='linenumber'>307</span>   </span><span class="NAME">filterNumberGreaterOrEqual</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>308</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>309</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>310</span>       </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueNumber</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>311</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>312</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>313</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>314</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterNumberLess</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>315</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>316</span>   </span><span class="COMM">/** This is the standard implementation of the NUMBER_RANGE filter match. The 2 range values are included.
<span class='linenumber'>317</span>     * When it's unable to parse any of the 2 given values as a number or when the input is an empty array it returns false.
<span class='linenumber'>318</span>     * If the number of given values id different from 2, it returns false
<span class='linenumber'>319</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>320</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>321</span>     * @param {String} column The column of the record to match
<span class='linenumber'>322</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>323</span>     */</span><span class="WHIT">
<span class='linenumber'>324</span>   </span><span class="NAME">filterNumberRange</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>325</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">value.length</span><span class="PUNC">!=</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>326</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>327</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>328</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">matchLower</span><span class="PUNC">=</span><span class="NAME">this.filterNumberGreaterOrEqual</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>329</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">matchUpper</span><span class="PUNC">=</span><span class="NAME">this.filterNumberLessOrEqual</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>330</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">matchLower</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">matchUpper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>331</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>332</span>   </span><span class="COMM">/** This is the standard implementation of the DATE_EQUAL filter match.
<span class='linenumber'>333</span>     * When it's unable to parse the given value as a date or when the input is an empty array it returns false.
<span class='linenumber'>334</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>335</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>336</span>     * @param {String} column The column of the record to match
<span class='linenumber'>337</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>338</span>     */</span><span class="WHIT">
<span class='linenumber'>339</span>   </span><span class="NAME">filterDateEqual</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>340</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">date</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>341</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>342</span>       </span><span class="NAME">date</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueDate</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>343</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>344</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>345</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>346</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="NAME">date.getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>347</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>348</span>   </span><span class="COMM">/** This is the standard implementation of the DATE_GREATER filter match.
<span class='linenumber'>349</span>     * When it's unable to parse the given value as a date or when the input is an empty array it returns false.
<span class='linenumber'>350</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>351</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>352</span>     * @param {String} column The column of the record to match
<span class='linenumber'>353</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>354</span>     */</span><span class="WHIT">
<span class='linenumber'>355</span>   </span><span class="NAME">filterDateGreater</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>356</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">date</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>357</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>358</span>       </span><span class="NAME">date</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueDate</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>359</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>360</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>361</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>362</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NAME">date.getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>363</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>364</span>   </span><span class="COMM">/** This is the standard implementation of the DATE_LESS_OR_EQUAL filter match.
<span class='linenumber'>365</span>     * When it's unable to parse the given value as a date or when the input is an empty array it returns false.
<span class='linenumber'>366</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>367</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>368</span>     * @param {String} column The column of the record to match
<span class='linenumber'>369</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>370</span>     */</span><span class="WHIT">
<span class='linenumber'>371</span>   </span><span class="NAME">filterDateLessOrEqual</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>372</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>373</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>374</span>       </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueDate</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>375</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>376</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>377</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>378</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterDateGreater</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>379</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>380</span>   </span><span class="COMM">/** This is the standard implementation of the DATE_LESS filter match.
<span class='linenumber'>381</span>     * When it's unable to parse the given value as a date or when the input is an empty array it returns false.
<span class='linenumber'>382</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>383</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>384</span>     * @param {String} column The column of the record to match
<span class='linenumber'>385</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>386</span>     */</span><span class="WHIT">
<span class='linenumber'>387</span>   </span><span class="NAME">filterDateLess</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>388</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">date</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>389</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>390</span>       </span><span class="NAME">date</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueDate</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>391</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>392</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>393</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>394</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">record.get</span><span class="PUNC">(</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">date.getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>395</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>396</span>   </span><span class="COMM">/** This is the standard implementation of the DATE_GREATER_OR_EQUAL filter match.
<span class='linenumber'>397</span>     * When it's unable to parse the given value as a date or when the input is an empty array it returns false.
<span class='linenumber'>398</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>399</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>400</span>     * @param {String} column The column of the record to match
<span class='linenumber'>401</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>402</span>     */</span><span class="WHIT">
<span class='linenumber'>403</span>   </span><span class="NAME">filterDateGreaterOrEqual</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>404</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">date</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>405</span>     </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>406</span>       </span><span class="NAME">date</span><span class="PUNC">=</span><span class="NAME">this.calcolateValueDate</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>407</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>408</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>409</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>410</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.filterDateLess</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>411</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>412</span>   </span><span class="COMM">/** This is the standard implementation of the DATE_RANGE filter match. The 2 range values are included.
<span class='linenumber'>413</span>     * When it's unable to parse any of the 2 given values as a dates or when the input is an empty array it returns false.
<span class='linenumber'>414</span>     * If the number of given values id different from 2, it returns false
<span class='linenumber'>415</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>416</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>417</span>     * @param {String} column The column of the record to match
<span class='linenumber'>418</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>419</span>     */</span><span class="WHIT">
<span class='linenumber'>420</span>   </span><span class="NAME">filterDateRange</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>421</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">value.length</span><span class="PUNC">!=</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>422</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>423</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>424</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">matchLower</span><span class="PUNC">=</span><span class="NAME">this.filterDateGreaterOrEqual</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>425</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">matchUpper</span><span class="PUNC">=</span><span class="NAME">this.filterDateLessOrEqual</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>426</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">matchLower</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">matchUpper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>427</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>428</span>   </span><span class="COMM">/** This is the standard implementation of the DATE_PERIOD filter match.
<span class='linenumber'>429</span>     * If the input is empty array it returns false, otherwise it verifies if the value is between now  and now -the period
<span class='linenumber'>430</span>     * If the given period is not among LAST_YEAR, LAST_MONTH, LAST_WEEK, LAST_DAY, LAST_HOUR, LAST_QUARTER it returns false
<span class='linenumber'>431</span>     * @param {Ext.data.Record} record The record to match against the value
<span class='linenumber'>432</span>     * @param {Array of Object} value The value to match against the filter
<span class='linenumber'>433</span>     * @param {String} column The column of the record to match
<span class='linenumber'>434</span>     * @return {boolean} true if it matches, false otherwise
<span class='linenumber'>435</span>     */</span><span class="WHIT">
<span class='linenumber'>436</span>   </span><span class="NAME">filterDatePeriod</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>437</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">value.length</span><span class="PUNC">!=</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>438</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>439</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>440</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">upper</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Date</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>441</span>     </span><span class="NAME">upperValue</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">label</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">upper.format</span><span class="PUNC">(</span><span class="STRN">'Y-m-d H:i:s'</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">value</span><span class="PUNC">:</span><span class="NAME">upper.format</span><span class="PUNC">(</span><span class="STRN">'Y-m-d H:i:s'</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>442</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">lower</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>443</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">===</span><span class="STRN">'LAST_YEAR'</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>444</span>       </span><span class="NAME">lower</span><span class="PUNC">=</span><span class="NAME">upper.add</span><span class="PUNC">(</span><span class="NAME">Date.YEAR</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>445</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">===</span><span class="STRN">'LAST_MONTH'</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>446</span>       </span><span class="NAME">lower</span><span class="PUNC">=</span><span class="NAME">upper.add</span><span class="PUNC">(</span><span class="NAME">Date.MONTH</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>447</span>     </span><span class="PUNC">}</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">===</span><span class="STRN">'LAST_WEEK'</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>448</span>       </span><span class="NAME">lower</span><span class="PUNC">=</span><span class="NAME">upper.add</span><span class="PUNC">(</span><span class="NAME">Date.DAY</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">7</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>449</span>     </span><span class="PUNC">}</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">===</span><span class="STRN">'LAST_DAY'</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>450</span>       </span><span class="NAME">lower</span><span class="PUNC">=</span><span class="NAME">upper.add</span><span class="PUNC">(</span><span class="NAME">Date.DAY</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>451</span>     </span><span class="PUNC">}</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">===</span><span class="STRN">'LAST_HOUR'</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>452</span>       </span><span class="NAME">lower</span><span class="PUNC">=</span><span class="NAME">upper.add</span><span class="PUNC">(</span><span class="NAME">Date.HOUR</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>453</span>     </span><span class="PUNC">}</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">value</span><span class="PUNC">===</span><span class="STRN">'LAST_QUARTER'</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>454</span>       </span><span class="NAME">lower</span><span class="PUNC">=</span><span class="NAME">upper.add</span><span class="PUNC">(</span><span class="NAME">Date.MINUTE</span><span class="WHIT"> </span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">15</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>455</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>456</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>457</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>458</span>     </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">lowerValue</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">label</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">lower.format</span><span class="PUNC">(</span><span class="STRN">'Y-m-d H:i:s'</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">value</span><span class="PUNC">:</span><span class="NAME">lower.format</span><span class="PUNC">(</span><span class="STRN">'Y-m-d H:i:s'</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>459</span>     </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">this.filterDateRange</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">lowerValue</span><span class="PUNC">,</span><span class="NAME">upperValue</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">column</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>460</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>461</span>   </span><span class="COMM">/** This function is used for apply the setted filter on store.&lt;br>
<span class='linenumber'>462</span>     * Example:
<span class='linenumber'>463</span>     * &lt;PRE>
<span class='linenumber'>464</span>     * localFilterResolver.apply(store)
<span class='linenumber'>465</span>     * &lt;/PRE>
<span class='linenumber'>466</span>     * @param {Ext.data.Store} store The store that is filtered
<span class='linenumber'>467</span>     */</span><span class="WHIT">
<span class='linenumber'>468</span>   </span><span class="NAME">apply</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">store</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>469</span>     </span><span class="NAME">store.filterBy</span><span class="PUNC">(</span><span class="NAME">this.filter</span><span class="PUNC">,</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>470</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>471</span>   </span><span class="COMM">/** This function must be used as the first argument of the filterBy store method to perform the filtering.
<span class='linenumber'>472</span>     * Example:
<span class='linenumber'>473</span>     * &lt;PRE>
<span class='linenumber'>474</span>     * store.filterBy(localStoreFilterResolver.filter,localStoreFilterResolver)
<span class='linenumber'>475</span>     * &lt;/PRE>
<span class='linenumber'>476</span>     * @param {Ext.data.Record} record The record to filter against the given filterObject (as returned by filterModel.getFilterObj)
<span class='linenumber'>477</span>     * @param {String} id The id of the record
<span class='linenumber'>478</span>     * @param {Object} filterObj The record is matched against this filterObj. This parameter is optional. The defualt is this.filterMAnager.getFilterObj()
<span class='linenumber'>479</span>     * @return {boolean} true id the record matches, false otherwise
<span class='linenumber'>480</span>     */</span><span class="WHIT">
<span class='linenumber'>481</span>   </span><span class="NAME">filter</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">,</span><span class="NAME">filterObj</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>482</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">filterObj</span><span class="PUNC">==</span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>483</span>       </span><span class="NAME">filterObj</span><span class="PUNC">=</span><span class="NAME">this.filterModel.getFilterObj</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>484</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">filterObj</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>485</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>486</span>     </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">filterObj.operatorId</span><span class="PUNC">!=</span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>487</span>       </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">fn</span><span class="PUNC">=</span><span class="NAME">this.mapping</span><span class="PUNC">[</span><span class="NAME">filterObj.operatorId</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">fn</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>488</span>       </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="PUNC">=</span><span class="NAME">this.mapping</span><span class="PUNC">[</span><span class="NAME">filterObj.operatorId</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">scope</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>489</span>       </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">scope</span><span class="PUNC">===</span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">scope</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>490</span>         </span><span class="NAME">scope</span><span class="PUNC">=</span><span class="NAME">window</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>491</span>       </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>492</span>       </span><span class="NAME">toReturn</span><span class="PUNC">=</span><span class="NAME">fn.call</span><span class="PUNC">(</span><span class="NAME">scope</span><span class="PUNC">,</span><span class="NAME">record</span><span class="PUNC">,</span><span class="NAME">filterObj.values</span><span class="PUNC">,</span><span class="NAME">filterObj.fieldId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>493</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">toReturn</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>494</span>     </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>495</span>       </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">=</span><span class="NAME">this.filter</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">,</span><span class="NAME">filterObj.left</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>496</span>       </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ret</span><span class="PUNC">===</span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">filterObj.logicalOperator</span><span class="PUNC">===</span><span class="NAME">Ext.ux.netbox.core.CompositeFilter.OR</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>497</span>         </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>498</span>       </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ret</span><span class="PUNC">===</span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">filterObj.logicalOperator</span><span class="PUNC">===</span><span class="NAME">Ext.ux.netbox.core.CompositeFilter.AND</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>499</span>         </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>500</span>       </span><span class="NAME">ret</span><span class="PUNC">=</span><span class="NAME">this.filter</span><span class="PUNC">(</span><span class="NAME">record</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">,</span><span class="NAME">filterObj.right</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>501</span>       </span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">ret</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>502</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>503</span>   </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>504</span> </span><span class="PUNC">}</span></pre></body></html>