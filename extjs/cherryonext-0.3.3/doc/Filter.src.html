<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.linenumber {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='linenumber'>  1</span> <span class="COMM">// $Id: Filter.js 100 2008-02-26 09:38:02Z bobbicat71 $</span><span class="WHIT">
<span class='linenumber'>  2</span> 
<span class='linenumber'>  3</span> </span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">'Ext.ux.netbox.core'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>  4</span> 
<span class='linenumber'>  5</span> </span><span class="COMM">/** This class is an abstract one. See ElementaryField or CompositeField
<span class='linenumber'>  6</span>   * @class The base class for the filter. A filter can be of 2 type:
<span class='linenumber'>  7</span>   * &lt;ol>
<span class='linenumber'>  8</span>   * &lt;li> elementary. It's a filter made only of a condition, for example foo = 'bar'&lt;/li>
<span class='linenumber'>  9</span>   * &lt;li> composite. It's a filter made of other filters, that are connected together using a logical operator (AND, OR etc...). Actualy only the AND and OR operators are supported.&lt;/li>
<span class='linenumber'> 10</span>   * &lt;/ol>
<span class='linenumber'> 11</span>   * This is an abstract class ( a lot of the methods of this class just thow an exception). You should not instantie this class directly. See Ext.ux.netbox.core.CompositeFilter and Ext.ux.netbox.core.ElementaryFilter
<span class='linenumber'> 12</span>   * @constructor
<span class='linenumber'> 13</span>   */</span><span class="WHIT">
<span class='linenumber'> 14</span> </span><span class="NAME">Ext.ux.netbox.core.Filter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 15</span>   </span><span class="NAME">Ext.ux.netbox.core.Filter.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 16</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 17</span> 
<span class='linenumber'> 18</span> </span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Ext.ux.netbox.core.Filter</span><span class="PUNC">,</span><span class="NAME">Ext.util.Observable</span><span class="PUNC">,</span><span class="COMM">/** @scope Ext.ux.netbox.core.Filter.prototype */</span><span class="WHIT">
<span class='linenumber'> 19</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 20</span>   </span><span class="COMM">/** This method returns a javascript object representing the filter.
<span class='linenumber'> 21</span>     * The format of the object returned is dependant on the children implementing this class.
<span class='linenumber'> 22</span>     * If the class is an ElementaryFilter it returns an array of this format:
<span class='linenumber'> 23</span>     * &lt;PRE>{fieldId : "&lt;fieldId&gt;", operatorId : "&lt;operatorId&gt;", values : [...]}&lt;/PRE>
<span class='linenumber'> 24</span>     * If the class is a CompositeFilter it returns an array of this format:
<span class='linenumber'> 25</span>     * &lt;PRE>{left : Ext.ux.netbox.core.Filter, logicalOperator : String, right : Ext.ux.netbox.core.Filter}&lt;/PRE>
<span class='linenumber'> 26</span>     * &lt;h4> Example &lt;/h4>
<span class='linenumber'> 27</span>     * &lt;PRE>
<span class='linenumber'> 28</span>     * {
<span class='linenumber'> 29</span>     *    left:{
<span class='linenumber'> 30</span>     *      left:{fieldId:"field4",operatorId:"DATE_EQUAL",values:[{label:"12/10/2009 12:12",value:"2009-10-12 12:12:00"}]},
<span class='linenumber'> 31</span>     *      logicalOperator:"AND",
<span class='linenumber'> 32</span>     *      right:{fieldId:"field3",operatorId:"STRING_EQUAL",values:[{"label":"label1","value":"valore1"}]}
<span class='linenumber'> 33</span>     *    },
<span class='linenumber'> 34</span>     *    logicalOperator:"AND",
<span class='linenumber'> 35</span>     *    right:{fieldId:"field",operatorId:"NUMBER_EQUAL",values:[{"label":5,"value":5}]}
<span class='linenumber'> 36</span>     * }
<span class='linenumber'> 37</span>     * &lt;/pre>
<span class='linenumber'> 38</span>     * @return {Object} A javascript object rapresenting the filter
<span class='linenumber'> 39</span>     * @throws {String} In this base class an exception is thrown
<span class='linenumber'> 40</span>     */</span><span class="WHIT">
<span class='linenumber'> 41</span>   </span><span class="NAME">getFilterObj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 42</span>     </span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"getFilterObj is an abstract method!"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 43</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 44</span>   </span><span class="COMM">/** This method sets the current filter. The format of the object is dependant on the children implementing this class.
<span class='linenumber'> 45</span>     * If the class is a ElementaryFilter it must be in this format:
<span class='linenumber'> 46</span>     * &lt;PRE>{fieldId : "&lt;fieldId&gt;", operatorId : "&lt;operatorId&gt;", values : [...]}&lt;/PRE>
<span class='linenumber'> 47</span>     * If it's a CompositeFilter it must be in this format:
<span class='linenumber'> 48</span>     * &lt;PRE>{left : Ext.ux.netbox.core.Filter, logicalOperator : String, right : Ext.ux.netbox.core.Filter}&lt;/PRE>
<span class='linenumber'> 49</span>     * @param {Object} filter javascript object rapresenting the filter
<span class='linenumber'> 50</span>     * @throws {String} In this base class an exception is thrown
<span class='linenumber'> 51</span>     */</span><span class="WHIT">
<span class='linenumber'> 52</span>   </span><span class="NAME">setFilterObj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">filter</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 53</span>     </span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"setFilterObj is an abstract method!"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 54</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 55</span>   </span><span class="COMM">/** This method get an Ext.ux.netbox.core.ElementaryFilter by id if it is contained in this Filter. If not found return null.
<span class='linenumber'> 56</span>     * @param {String} id The id of the ElementaryFilter
<span class='linenumber'> 57</span>     * @return {Ext.ux.netbox.core.ElementaryFilter} The ElementaryFilter returned
<span class='linenumber'> 58</span>     * @throws {String} In this base class an exception is thrown
<span class='linenumber'> 59</span>     */</span><span class="WHIT">
<span class='linenumber'> 60</span>   </span><span class="NAME">getElementaryFilterById</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 61</span>   	</span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"getElementaryFilterById is an abstract method!"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 62</span>   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 63</span>   </span><span class="COMM">/** This method get an array of Ext.ux.netbox.core.ElementaryFilter by fieldId. If not found return an empty array.
<span class='linenumber'> 64</span>     * @param {String} fieldId The id of the field
<span class='linenumber'> 65</span>     * @return {Array of Ext.ux.netbox.core.ElementaryFilter} The array of ElementaryFilter with the same fieldId or an empty array
<span class='linenumber'> 66</span>     * @throws {String} In this base class an exception is thrown
<span class='linenumber'> 67</span>     */</span><span class="WHIT">
<span class='linenumber'> 68</span>   </span><span class="NAME">getElementaryFiltersByFieldId</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">fieldId</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 69</span>   	</span><span class="KEYW">throw</span><span class="PUNC">(</span><span class="STRN">"getElementaryFiltersByFieldId is an abstract method!"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 70</span>   </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 71</span> 
<span class='linenumber'> 72</span> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span></pre></body></html>